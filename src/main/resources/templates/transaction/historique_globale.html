<!DOCTYPE html>
<html lang="fr" th:replace="~{main_layout :: layout(~{::title}, ~{::content}, _, _)}"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Historique globale des transactions</title>
</head>
<th:block th:fragment="content">
    <div class="page-heading">
        <div class="page-title">
            <div class="row">
                <div class="col-12 col-md-6 order-md-1 order-last">
                    <h3>Historique globale</h3>
                    <p class="text-subtitle text-muted">Liste complète de toutes les transactions des utilisateurs</p>
                </div>
                <div class="col-12 col-md-6 order-md-2 order-first">
                    <nav aria-label="breadcrumb" class="breadcrumb-header float-start float-lg-end">
                        <ol class="breadcrumb">
                            <li class="breadcrumb-item"><a href="#">Transaction</a></li>
                            <li class="breadcrumb-item active" aria-current="page">Historique globale</li>
                        </ol>
                    </nav>
                </div>
            </div>
        </div>
    </div>
    <div class="page-content">
        <section class="row match-height">
            <div class="col-12">
                <div class="card">
                    <div class="card-header">
                        <h4 class="card-title">Filtre</h4>
                    </div>
                    <div class="card-content">
                        <div class="card-body">
                            <form class="form">
                                <div class="row">
                                    <div class="col-md-6 col-12">
                                        <div class="form-group">
                                            <label for="cryptomonnaie">Cryptomonnaie</label>
                                            <select class="form-select"
                                                    id="cryptomonnaie"
                                                    name="idCryptomonnaie"
                                            >
                                                <option value="">Sélectionnez une cryptomonnaie</option>
                                                <option th:each="cryptomonnaie : ${cryptomonnaies}"
                                                        th:value="${cryptomonnaie.id}"
                                                        th:text="${cryptomonnaie.designation}"
                                                        th:selected="${param.idCryptomonnaie != null && cryptomonnaie.id.toString() == param.idCryptomonnaie[0]}">
                                                </option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="col-md-6 col-12">
                                        <div class="form-group">
                                            <label for="utilisateur">Utilisateur</label>
                                            <select class="form-select"
                                                    id="utilisateur"
                                                    name="idUtilisateur"
                                            >
                                                <option value="">Sélectionnez une cryptomonnaie</option>
                                                <option th:each="utilisateur : ${utilisateurs}"
                                                        th:value="${utilisateur.id}"
                                                        th:text="${utilisateur.email}"
                                                        th:selected="${param.idUtilisateur != null && utilisateur.id.toString() == param.idUtilisateur[0]}">
                                                </option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="col-12">
                                        <button type="submit" class="btn btn-primary mt-2">
                                            Appliquer
                                        </button>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="row">
            <div class="col-12">
                <div class="card">
                    <div class="card-header">
                        <h4 class="card-title">Liste des transactions</h4>
                    </div>
                    <div class="card-body">
                        <div class="table-responsive">
                            <table class="table mb-0 table-md">
                                <thead>
                                <tr>
                                    <th>ID. Utilisateur</th>
                                    <th>Email</th>
                                    <th>Cryptomonnaie</th>
                                    <th>Type de transaction</th>
                                    <th>Quantité</th>
                                    <th>Date et heure</th>
                                    <th>Cours</th>
                                    <th>Cours actuel</th>
                                    <th>Valeur actuelle</th>
                                    <th>Variation</th>
                                    <th>Profit ou perte</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr th:each="transaction : ${transactions}">
                                    <td th:text="${transaction.idUtilisateur}"></td>
                                    <td th:text="${transaction.emailUtilisateur}"></td>
                                    <td th:text="${transaction.designationCryptomonnaie}"></td>
                                    <td th:text="${transaction.typeTransaction.value}"></td>
                                    <td th:text="${transaction.quantite}"></td>
                                    <td th:text="${transaction.dateHeure}"></td>
                                    <td th:text="${transaction.cours}"></td>
                                    <td th:text="${transaction.coursActuel}"></td>
                                    <td th:text="${transaction.valeurActuelle}"></td>
                                    <td th:text="${transaction.variation}"></td>
                                    <td th:text="${transaction.profitOuPerte}"></td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>
</th:block>
</html>
